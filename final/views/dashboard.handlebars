<!DOCTYPE html>
<html>
<head>
	<title>{{title}}</title>
	<link rel="shortcut icon" type="image/jpg" href="../images/logo.jpg">
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" integrity="sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt" crossorigin="anonymous">
	<link rel="stylesheet" type="text/css" href="style/dashboard.css">
	<link rel="stylesheet" type="text/css" href="style/contact.css">
	<link rel="stylesheet" type="text/css" href="style/style.css">
	<script src="js/search.js"></script>
	<script src="js/dashboard.js"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
	<script
				  src="https://code.jquery.com/jquery-3.3.1.min.js"
				  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
				  crossorigin="anonymous"></script>

	  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
	  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
	<script>
		$(document).ready(function(){
			$("#tagsbtn").click(function(){
		    $("#tags").slideToggle();
		    $("#friends").slideUp();
			});
			$("#friendsbtn").click(function(){
		    $("#tags").slideUp();
		    $("#friends").slideToggle();
			});
		});
	</script>
</head>
<body>
	<div class="contain">
		<div class="container">
	<nav class="nav navbar-custom">
		<div class="container-fluid" id="heading">
			<div class="nav navbar-header">
				<nav class="navbar-brand"><a href="/"><img src="../images/logo.jpg" style="height:70px;width:70px;border-radius: 100%;"></a></nav>
			</div>
			<ul class="nav navbar-nav navbar-right">
				<li><a href="/team">Team</a></li>
				<li><a href="/"  style="background: white;color: black;">Dashboard</a></li>
				<li><a href="/about">About Conectar</a></li>
				<li><a href="/contact">Query</a></li>
				<li><a href="/chat">Chat</a></li>
				<li><a href="/users/logout">LogOut</a></li>
			</ul>
		</div>
	</nav>
</div>
</div>

	<div class="container-fluid">
		<div class="col-md-12">
			<div class="col-md-3">
				<div class="col-md-12" style="margin-top: 15px;margin-bottom: 15px;">
					<img src="../images/vishal.jpg" style="width:100%;height:100%; border-radius: 10px;">
				</div>
				<div class="col-md-12">
					<ul class="list-group">
						<li class="list-group-item">Username : {{username}}</li>
						<li class="list-group-item">E-mail ID : {{mail}}</li>
						<li class="list-group-item">Contact info : {{phone}}</li>
						<li class="list-group-item">Designation : {{designation}}</li>
						<li class="list-group-item">College/Company : {{cc}}</li>
					</ul>
				</div>
				<div class="col-md-12">
				<button class="btn btn-primary text-center" style="width: 100%;" data-toggle="modal" data-target="#update">Edit Details</button>
				</div>
			</div>

			 <div class="modal fade" id="update" role="dialog">
			    <div class="modal-dialog">
			    
			      <div class="modal-content">
			        <div class="modal-header">
			          <button type="button" class="close" data-dismiss="modal">&times;</button>
			          <h4 class="modal-title">Edit Details</h4>
			        </div>
			        <div class="modal-body">
			        	<table class="table">
			        		<tr>
			        			<td>Username</td>
			        			<td>
			        				<input type="text" name="username" class="username">
			        			</td>
			        		</tr>
			        		<tr>
			        			<td>Phone Number</td>
			        			<td>
			        				<input type="text" name="phone" class="phone">
			        			</td>
			        		</tr>
			        		<tr>
			        			<td>E-mail</td>
			        		
			        			<td>
			        				<input type="mail" name="mail" class="mail">
			        			</td>
			        		</tr>
			        		<tr>
			        			<td>Designation</td>
			        		
			        			<td>
			        				<input type="text" name="designation" class="designation">
			        			</td>
			        		</tr>
			        		<tr>
			        			<td>College/Company</td>
			        			<td>
			        				<input type="text" name="present" class="present">
			        			</td>
			        		</tr>
			        		<tr>
			        			<td><button type="submit" class="btn btn-primary" id="edit_submit">Submit</button></td>
			        		</tr>
			        	</table>
			        </div>
			        <div class="modal-footer">
			          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
			        </div>
			      </div>
			     
			    </div>
			  </div>

			 <!-- <div class="modal fade" id="delete" role="dialog">
			    <div class="modal-dialog">
			    
			      <div class="modal-content">
			        <div class="modal-header">
			          <button type="button" class="close" data-dismiss="modal">&times;</button>
			          <h4 class="modal-title">Delete Tag</h4>
			        </div>
			        <div class="modal-body">
			        	<section class="insert">
			        		<table class="table">
						    <form action="/insert" method="post">
						        <div class="input">
						        <tr>
						            <td><label for="title">Select Tag</label></td>
						            <td><input type="text" id="tag" name="tag"></td>
						        </tr>
						        </div>
						        <tr>
						        <td><button type="submit" class="btn btn-danger">Submit</button></td>
						        </tr>
						    </form>
						</table>
						</section>
			        </div>
			        <div class="modal-footer">
			          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
			        </div>
			      </div>
			     
			    </div>
			  </div>	-->	

			  <div class="modal fade" id="insert" role="dialog">
			    <div class="modal-dialog">
			    
			      <div class="modal-content">
			        <div class="modal-header">
			          <button type="button" class="close" data-dismiss="modal">&times;</button>
			          <h4 class="modal-title">Add New Tag</h4>
			        </div>
			        <div class="modal-body">
			        	<section class="insert">
			        		<table class="table">
						    <form action="/insert" method="post">
						        <div class="input">
						        <tr>
						            <td><label for="title">New Tag</label></td>
						            <td><input type="text" id="tag" name="tag"></td>
						        </tr>
						        </div>
						        <tr>
						        <td><button type="submit" class="btn btn-danger">Submit</button></td>
						        </tr>
						    </form>
						</table>
						</section>
			        </div>
			        <div class="modal-footer">
			          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
			        </div>
			      </div>
			     
			    </div>
			  </div>			  			  

			<div class="col-md-6" style="margin-top: 15px;">
				<div class="col-md-12">
					<table class="table">
						<form id="searchForm">
							<tr>
								<td><input class="form-control" type="text" name="movie" style="width: 100%; border-radius:10px;" id="searchMovie" placeholder="Search Fields Of Your Interest..."></td>
								<td style="width: 10px;"><button onclick="startConverting()" class="btn" style="background:white;color: #3498DB;border-radius: 10px;" id="listen"><i class="fas fa-microphone" style="font-size: 1.8em;"></i></button></td>
							</tr>
						</form>
					</table>
					<div class="container-fluid">
						<div id="movies" class="row">
							<!--here all the movies are displayed-->
						</div>
					</div>
				</div>
			</div>

			<div class="col-md-3">
				<div class="col-md-12" style="margin-top: 15px;">
				<button class="btn btn-danger" id="tagsbtn" style="width: 100%;">Your Interests</button>
				</div>
				<div class="col-md-12" id="tags" style="display: none;">
					<ul class="list-group">
						<li class="list-group-item">{{t1}}</li>
						<li class="list-group-item">{{t2}}</li>
						<li class="list-group-item">{{t3}}</li>
						<li class="list-group-item">{{t4}}</li>
						<li class="list-group-item">{{t5}}</li>
						<li class="list-group-item"><button class="btn btn-primary" style="width: 100%;" data-toggle="modal" data-target="#insert">Add More</button></li>
						<li class="list-group-item"><button class="btn btn-danger" style="width: 100%;" data-toggle="modal" data-target="#delete">Delete</button></li>
					</ul>
				</div>
				<div class="col-md-12" style="margin-top: 15px;">
				<button class="btn btn-danger" id="friendsbtn" style="width: 100%;">Your Friends</button>
				</div>
				<div class="col-md-12" id="friends" style="display: none;">
					<ul class="list-group">
						<li class="list-group-item">{{f1}}</li>
						<li class="list-group-item">{{f2}}</li>
						<li class="list-group-item">{{f3}}</li>
						<li class="list-group-item">{{f4}}</li>
						<li class="list-group-item">{{f5}}</li>
					</ul>
				</div>
			</div>
		</div>
	</div>
	<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
	<script>
		function speak(text1) {
			var msg = new SpeechSynthesisUtterance();
			var voices = window.speechSynthesis.getVoices()
			console.log(voices);
			msg.volume = 20;
			msg.rate = 1;
			msg.pitch = 10;
			msg.text = text1;
			window.speechSynthesis.speak(msg);
		};
		speak('Welcome To Conectar Your own personalised Dashboard to Meet like minded people like you...');
		speak('My name is Jacob your Friend To help You navigate through the platform...');
	var record = document.getElementById('searchMovie')
	function startConverting(){
		speak('Hello There,Speak to Search Your Interests!!');
		if ('webkitSpeechRecognition' in window){
			var speechRecognizer = new webkitSpeechRecognition();
			speechRecognizer.continous = true;
			speechRecognizer.interimResults = true;
			speechRecognizer.lang  = 'en-IN';
			speechRecognizer.start();
			var finaltranscripts = '';
			var x = 0;
			speechRecognizer.onresult = function (event) {
				var interimTranscripts = '';
				for(var i = event.resultIndex; i < event.results.length;i++){
					var transcript = event.results[i][0].transcript;
					if(event.results[i].isFinal){
						finaltranscripts += transcript
					}
				}
				record.innerHTML = finaltranscripts;
				console.log(finaltranscripts);
				getMovies(finaltranscripts);
				/*for(;x<1;x++){
					speak("Thank you for using me");
					speak("I hope You Will Love My Content");
				};*/
				x++;
				if(x==3){
					speak("Thank you for using me");
					speak("I hope You Will Love My Content");
				}
				};
		speechRecognizer.onerror = function(event){
			console.log('Error detected');
		};
	}else{
		record.innerHTML = 'Your Browser is not supported....'
	}
}
	</script>
	<script>
		$(document).ready(() => {
		  $('#searchForm').on('submit', (e) => {
		    let searchText = $('#searchMovie').val();
		    getMovies(searchText);
		    e.preventDefault();
		  });
		});
	</script>
</body>
</html>